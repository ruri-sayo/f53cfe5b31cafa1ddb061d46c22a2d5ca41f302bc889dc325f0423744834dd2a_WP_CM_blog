# ツールReact化 コンバージョン分析レポート

## 実施済みツール
以下のツールはReact化（Astro + React）が完了しました。

1. **Word Quiz** (`src/pages/game/word_quiz.astro`)
   - **内容**: スウェーデン語・アイヌ語クイズ
   - **メリット**: 状態管理（スコア、言語切り替え）がReactにより簡潔になった。コンポーネント化によりUIの見通しが良くなった。

2. **語尾変換器** (`src/pages/tools/gobi_changer.astro`)
   - **内容**: 正規表現によるテキスト置換
   - **メリット**: `config.yaml`のロードロジックとUI更新ロジックを分離でき、コードが宣言的になった。

---

## 未実施ツールのReact化検討

残りのHTMLベースのツールについて、React化の可否と難易度、推奨アクションを分析しました。

### 1. 資産シミュレーター (kane_simyu.html)
- **難易度**: 中
- **推奨**: **React化推奨**
- **理由**:
    - 入力フォームと計算結果の連動（リアクティブ性）が高く、ReactのState管理と非常に相性が良い。
    - グラフ描画ライブラリ（Chart.jsなど）を `react-chartjs-2` 等に置き換えることで、コード量を大幅に削減可能。
    - フォームのバリデーションやUI改善が容易になる。

### 2. データ可視化系 (sky_high.html, million_graph_*.html)
- **難易度**: 中～高
- **推奨**: **要検討 / 優先度低**
- **理由**:
    - 主な機能がグラフ描画であり、ロジックの多くはデータ整形とチャート設定。
    - React化してもUIの操作性が劇的に向上するわけではない（現状で完成されている）。
    - データを外部JSON/YAMLから読み込んでいる場合、そのフェッチロジックをHooksにする改修は有用だが、工数対効果は低め。

### 3. ゲーム・Canvas系 (MEIRO.html, screen_saiverrrrr.html)
- **難易度**: 高
- **推奨**: **React化非推奨（現状維持）**
- **理由**:
    - Canvas APIを直接操作する命令的なコードで書かれているため、Reactの宣言的なUIモデルとは相性が悪い場合がある。
    - React内でCanvasを扱う場合、`useEffect` 内にロジックを閉じ込めるか、`react-konva` などのライブラリ導入が必要となり、書き換えのコストが高い。
    - パフォーマンス面でも、頻繁な再レンダリングを避けるチューニングが必要になるため、既存の素のJSのままAstroの `<script>` タグで読み込む方が安全かつ高速。

### 4. 数学・テキスト処理系 (math_changer.html)
- **難易度**: 低
- **推奨**: **React化可能だがメリット薄**
- **理由**:
    - MathJaxによるレンダリングが主機能。
    - 入力に対するリアルタイムプレビューはReact Stateで書きやすいが、現状のHTML+JSで十分機能している。
    - MathJaxのReactコンポーネント化は設定が少し煩読になりがち。

## まとめ

今後の優先順位としては、**「資産シミュレーター」** のReact化を最優先とすることをお勧めします。ユーザーの入力に対する反応が重要であり、Reactの恩恵を最も受けられるためです。
ゲームや可視化ツールに関しては、現状のHTML/JS実装を維持しつつ、Astroヘッダー/フッターへの統合（レイアウト適用）のみを行う「ガワだけAstro化」のアプローチが現実的です。
