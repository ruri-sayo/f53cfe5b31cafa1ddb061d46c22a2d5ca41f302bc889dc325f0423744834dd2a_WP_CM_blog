# ブログリプレイスに向けたSSG（Static Site Generator）調査・選定報告書

## 1. はじめに
本レポートは、現在Jekyllで稼働しているブログ「城上コードメモ」のリプレイス先として最適なSSGを選定するための調査・考察結果をまとめたものです。
現在のブログ構成（記事、小説、Webツール、ゲーム）を踏まえ、移行コスト、パフォーマンス、将来的な拡張性の観点から評価を行います。

## 2. 現状のシステム構成分析
- **エンジン**: Jekyll
- **言語/環境**: Ruby (`Gemfile`, `_config.yml`)
- **テーマ**: Minima (標準的構成)
- **コンテンツ構成**:
  - `_posts`: 通常のブログ記事
  - `_novel`: 小説用のカスタムコレクション
  - `tools`, `game`: 独立性の高いHTML/JSアプリケーション群
- **テンプレート言語**: Liquid

**現状の課題とリプレイスの動機（推測）**:
- Ruby環境の構築・維持の手間（特にWindows環境）。
- ビルド速度の改善（記事数増加に伴う懸念）。
- よりモダンな開発体験（コンポーネント指向など）への移行。
- Webツールやゲーム開発部分との統合強化。

## 3. 候補となる主要SSGの比較

2024-2025年時点での主要なモダンSSGとして、以下の3つを比較対象とします。

### A. Astro (推奨)
「アイランドアーキテクチャ」を採用した、コンテンツ重視の高速フレームワークです。

- **特徴**: デフォルトでJavaScriptを排除し、必要な部分だけ（ツールやゲーム部分）にReactやVueなどを利用可能。
- **Jekyllとの親和性**:
  - Markdown: 完全にサポート。
  - テンプレート: JSX風の `.astro` シンタックスを使用（移行作業が必要）。
  - コレクション: Content Collections機能により、`_novel` などの独自構造を型安全に管理可能。
- **メリット**: Webサイトとしての「軽さ」と、ツール/ゲーム部分の「高機能さ」を完璧に両立できる。現在の「ブログ＋ツール置き場」という構成に最も合致する。

### B. Eleventy (11ty)
Jekyllの精神的後継とも言える、シンプルで柔軟なJS製ジェネレーターです。

- **特徴**: 特定のフレームワークに依存せず、構造がシンプル。
- **Jekyllとの親和性**:
  - **最大**: Liquidテンプレートエンジンをネイティブサポートしているため、テンプレート (`_layouts`, `_includes`) をほぼそのままコピー＆ペーストで移行できる可能性が高い。
- **メリット**: 移行コストが圧倒的に低い。「とりあえず脱Jekyll・脱Rubyしたい」場合に最適。
- **デメリット**: Astroほどコンポーネント指向が強くないため、リッチなUI構築には工夫が必要。

### C. Hugo
Go言語製の爆速ジェネレーターです。

- **特徴**: ビルド速度が世界最速クラス。
- **Jekyllとの親和性**:
  - テンプレート言語がGo Templateであり、Liquidからの書き換え学習コストが高い。
- **メリット**: 記事数が数千〜数万になってもビルドが一瞬で終わる。
- **デメリット**: 柔軟なカスタマイズ（特にゲームや独自ツールの統合）において、学習コストが見合わない可能性がある。

## 4. 比較マトリクス

| 評価項目 | Astro | Eleventy | Hugo | Next.js / Gatsby |
| :--- | :--- | :--- | :--- | :--- |
| **ビルド速度** | 高速 | 高速 | **爆速** | 普通〜遅い |
| **Jekyll移行コスト** | 中 (テンプレート書き換え) | **低** (Liquid流用可) | 高 (Go学習) | 高 (React化) |
| **ツール/ゲーム統合** | **最適** (必要な箇所のみJS) | 普通 | 独自実装が必要 | 重厚 (アプリ向け) |
| **開発環境** | Node.js | Node.js | Go (バイナリ単体) | Node.js |
| **将来性・人気** | ◎ (急成長中) | ◯ (安定) | ◯ (定番) | ◎ (企業向け) |

## 5. 考察と推奨

弊ブログ「城上コードメモ」のリプレイス先としては、**Astro** を **最有力候補（Best Choice）** として推奨します。

### 推奨理由: Astro
1.  **「読み物」と「アプリ」の共存**: ブログ記事や小説（`_posts`, `_novel`）は静的なHTMLとして最速で配信し、`tools` や `game` ディレクトリにあるようなインタラクティブなコンテンツは、React/Preact/Svelteなどのコンポーネントとしてシームレスに統合できます。
2.  **Content Collections**: 現在 `collections` で定義している `novel` 等のデータを、スキーマ定義付きで安全かつ便利に扱えます。
3.  **DX（開発者体験）**: モダンなVS Code拡張機能や型安全性（TypeScript）の恩恵を受けやすく、開発の満足度が高いです。

### 次点: Eleventy
もし、「テンプレートの書き換え作業（HTML/CSS構造の再定義）を極力避けたい」「今の見た目のままでバックエンドだけRubyからNode.jsにしたい」という場合は、Eleventyが最適解となります。

## 6. 今後のステップ（提案）

もしAstroへの移行を進める場合、以下の手順で進めることを推奨します。

1.  **プロトタイプ作成**: `npm create astro@latest` でプロジェクトを作成。
2.  **コンテンツ移行**: `_posts` や `_novel` のMarkdownを移動し、`src/content/` 以下に配置。
3.  **レイアウト移植**: `_layouts/post.html` 等の内容を `.astro` コンポーネントに書き換え。
4.  **ツール動作確認**: 既存のJSツールをAstroアイランドとして組み込み動作検証。

以上について、ご検討ください。
